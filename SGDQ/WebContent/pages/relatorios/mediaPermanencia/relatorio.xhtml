<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:pe="http://primefaces.org/ui/extensions"
    template="/templates/Template.xhtml">

<ui:define name="metadata"/>
    <ui:define name="content">
		<h:body style="font-size:small;padding:0px;">
			<!-- Breadcrumb -->
			<p:breadCrumb>  
			    <p:menuitem url="#" icon="ui-icon-home" />  
			    <p:menuitem value="Relatórios - Emitir Relatório Média de Permanência" url="/pages/relatorios/mediaPermanencia/emitir.xhtml" />  
			</p:breadCrumb>
			<br/>
			<h:form id="emitir">
					<!-- Mensagens -->
					<p:messages id="mensagens" closable="true"/>
					<!-- Dados Gerais -->
					<!-- Inputs -->
					<div class="input-and-label">
					    <p:panelGrid>
					    	<p:row>
					    		<p:column>
					    			<p:outputLabel value="#{rotulo['relatorio.data_inicial']}:" />
					    		</p:column>
					    		<p:column>
					  				<p:calendar id="input_data_inicial" value="#{relatorioMediaPermanenciaController.dataInicial}" />  
					        	</p:column>
					        
					    		<p:column>
					    			<p:outputLabel value="#{rotulo['relatorio.data_final']}:" />
					    		</p:column>
					    		<p:column>
					    			<p:calendar id="input_data_final" value="#{relatorioMediaPermanenciaController.dataFinal}" />
					        	</p:column>
					        	<p:column>
					    			<p:commandButton id="button_salvar" value="Gerar" actionListener="#{relatorioMediaPermanenciaController.emitir}" update=":emitir" icon="ui-icon-check" />  
								</p:column>
					        </p:row>
						</p:panelGrid>
					</div>
				</h:form>
			
			<div class="relatorio">
				<p:lineChart id="mediaPermanencia" value="#{relatorioMediaPermanenciaController.relatorioModel}" 
					legendPosition="e" title="Média de Permanência para Conclusão" 
					minY="0.0000" maxY="15.0000" style="height:300px;margin-top:20px"
					xaxisLabel="Data de Pesquisa" yaxisLabel="Meses"
					animate="true" />
			</div>
		</h:body>
	</ui:define>
</ui:composition>
	