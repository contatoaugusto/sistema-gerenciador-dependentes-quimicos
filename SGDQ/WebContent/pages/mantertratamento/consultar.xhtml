<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:pe="http://primefaces.org/ui/extensions"
    template="/templates/Template.xhtml">

<ui:define name="metadata"/>
    <ui:define name="content">
    <h:body style="font-size:small;padding:0px;">
		<p:fieldset id="fieldset_consulta_prontuario" legend="Tratamentos Cadastrados">
			<h:form id="formConsultarTratamento">
				<!-- Mensagens -->
<!-- 				<p:messages id="mensagens" closable="true"/> -->
				<!-- Buttons -->
				<br/>
<!-- 				<div class="buttons-alone"> -->
<!-- 				    <p:commandButton id="button_novo" value="#{rotulo['generico.novo']}" action="/pages/mantertratamento/cadastrarTratamento?faces-redirect=true" icon="ui-icon-plus" /> -->
<!-- 				</div> -->
					<p:dataTable id="dataTable_consultar_prontuario" value="#{tratamentoController.items}" var="tratamento" 
						emptyMessage="#{mensagem['datatable.empty']}" paginator="true" paginatorPosition="bottom" 
						resizableColumns="true" rows="10" rowKey="#{tratamento.idprontuario}" selectionMode="single">
						<p:column headerText="Paciente" sortBy="#{tratamento.prontuario.idPaciente.idPessoa.nmPessoa}">
							<p:outputLabel value="#{tratamento.prontuario.idPaciente.idPessoa.nmPessoa}" />
						</p:column>
						<p:column headerText="#{rotulo['tratamento.tipo_de_tratamento']}" sortBy="#{tratamento.idtratamentotipo}">
							<p:outputLabel value="#{tratamento.idtratamentotipo == 1 ? 'Ambulatorial' : 'Internação'}" />
						</p:column>
						

						<p:column headerText="#{rotulo['tratamento.status_do_tratamento']}" sortBy="#{tratamento.tratamentoStatus.nmtratamentostatus}">
							<p:outputLabel value="#{tratamento.tratamentoStatus.nmtratamentostatus}" />
						</p:column>
						
<!-- 						<p:column headerText="#{rotulo['tratamento.motivo_do_status']}" sortBy="#{tratamento.dstratamentostatusmotivo}"> -->
<!-- 							<p:outputLabel value="#{tratamento.dstratamentostatusmotivo}" /> -->
<!-- 						</p:column> -->
						
						<p:column headerText="Início" sortBy="#{tratamento.dtinclusao}">
							<h:outputText value="#{tratamento.dtinclusao}" >
								<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
							</h:outputText>
						</p:column>
						<p:column headerText="Fim" sortBy="#{tratamento.dttratamentofim}">
							<h:outputText value="#{tratamento.dttratamentofim}" >
								<f:convertDateTime type="date" pattern="dd/MM/yyyy"/>
							</h:outputText>
						</p:column>
						
						<p:column headerText="#{rotulo['generico.acoes']}">
<!-- 						 	<p:commandButton id="button_editar_tratamento" action="tratamentoController.prepareEdit" icon="ui-icon-pencil" value="Consultar"/> -->
							<h:commandLink action="#{tratamentoController.prepareEdit}">
								<p:graphicImage value="/resources/images/consultar.png"/>
							</h:commandLink>
						</p:column>
					</p:dataTable>
			</h:form>
			<!-- Button -->
			<br/>
			<div class="button-voltar">
				<p:commandButton id="button_voltar" value="#{rotulo['generico.voltar']}" action="/pages/manterprontuario/consultar?faces-redirect=true" immediate="true" icon="ui-icon-arrowreturnthick-1-w" />
			</div>
			</p:fieldset>
		</h:body>
	</ui:define>
</ui:composition>		