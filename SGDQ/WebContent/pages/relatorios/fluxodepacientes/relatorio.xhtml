<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:pe="http://primefaces.org/ui/extensions"
    template="/templates/Template.xhtml">

<ui:define name="metadata"/>
    <ui:define name="content">
		<h:body style="font-size:small;padding:0px;">
			
			<!-- Breadcrumb -->
			<p:breadCrumb>  
			    <p:menuitem url="#" icon="ui-icon-home" />  
			    <p:menuitem value="Relatórios - Emitir Relatório de Fluxo de Pacientes" url="/pages/relatorios/fluxodepacientes/emitir.xhtml" />  
			</p:breadCrumb>
			<br/>
			
			<h:form id="emitir">
					<!-- Mensagens -->
					<p:messages id="mensagens" closable="true"/>
					<!-- Dados Gerais -->
					<!-- Inputs -->
					<div class="input-and-label">
					    <p:panelGrid>
					    	<p:row>
					    		<p:column>
					    			<p:outputLabel value="#{rotulo['relatorio.data_inicial']}:" />
					    		</p:column>
					    		<p:column>
					  				<p:calendar id="input_data_inicial" value="#{relatorioDeFluxoDePacientesController.dataInicial}" />  
					        	</p:column>
					        
					    		<p:column>
					    			<p:outputLabel value="#{rotulo['relatorio.data_final']}:" />
					    		</p:column>
					    		<p:column>
					    			<p:calendar id="input_data_final" value="#{relatorioDeFluxoDePacientesController.dataFinal}" />
					        	</p:column>
					        	<p:column>
					        		<p:commandButton id="button_salvar" value="Gerar" actionListener="#{relatorioDeFluxoDePacientesController.emitir}" update=":emitir" icon="ui-icon-check" />  
					        	</p:column>
					        </p:row>
						</p:panelGrid>
					</div>
					
				</h:form>
			<br/>
			<div class="relatorio">
				<p:barChart id="basic" 
					value="#{relatorioDeFluxoDePacientesController.relatorioModel}" 
					legendPosition="ne" 
					title="Fluxo de Pacientes" minY="0" style="height:300px"
					xaxisAngle="45"/>  
			</div>
		</h:body>
	</ui:define>
</ui:composition>
	